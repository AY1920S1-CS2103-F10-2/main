<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Zhang Xuan - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://se-edu.github.io/"><img src="../images/SeEduLogo.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level1">AB-1</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level2">AB-2</a></li><li class="nav-item"><a class="nav-link active" href="../index.html">AB-3</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/addressbook-level4">AB-4</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">iFridge</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="../LearningOutcomes.html">LOs</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103-F10-2/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Zhang Xuan - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-ifridge"><a class="link" href="#project-ifridge">PROJECT: iFridge</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>iFridge is a desktop grocery management application to encourage home cooks to manage their food waste. The user interacts with it using a CLI, and it has a GUI created with JavaFX.
It is written in Java, and has a about 20kLoC.</p>
</div>
<div class="paragraph">
<p>My role in the project was to implement the feature for users to keep track of their statistical food waste,
so that they can see how they are performing in food waste management and seek efficient ways to reduce their food waste.
Apart from writing code, I maintained the User Guide, Developer Guide and project GitHub repository. The following sections illustrates
the enhancements I made in greater detail, as well as highlight my key contributions to the user and developer guide regarding these enhancements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added the ability for the user to keep track of his or her <strong>food wastage statistics</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: This feature allows the user to keep track of all previous food waste up to the current point.
Some notable extensions include generating a food waste report which showcases a historical trend of food waste by
specifying a time frame, as well as predicting the user&#8217;s estimated food waste for the current month.</p>
</li>
<li>
<p>Justification: This feature improves our product significantly by allowing the user to monitor his or her
food waste, which aligns with our application&#8217;s aim to encourage users to find effective ways to reduce food waste.</p>
</li>
<li>
<p>Highlights: The enhancement required an in-depth planning on how to store the past food waste. This is because there is a need to keep track of the temporal aspects of the
food waste (in particular, when the food was wasted). To facilitate the implementation of this feature, the architecture of some components have to be newly designed from scratch,
and the multiple options to do so had to be carefully considered and assessed. When implementing the waste-related classes, there is a need to acquire a deep and broad understanding of how the different components
worked together.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancements</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Added support for the user to view his or her waste list for a specific month. This feature is implemented with the intention of
allowing users to see which types of foods they tend to waste more often by checking their past waste lists.</p>
</li>
<li>
<p>Added support for flexible parsing of months when the user chooses to specify the starting and ending months to generate a waste report.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: The samples of my functional and test code can be viewed <a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#=undefined&amp;search=zhangxuan97">here</a>.</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Managed milestone <code>v1.3</code> on Github</p>
</li>
<li>
<p>Refactored package names: <a href="https://github.com/AY1920S1-CS2103-F10-2/main/pull/141">#141</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Populated the command summary for user guide: <a href="https://github.com/AY1920S1-CS2103-F10-2/main/pull/156">#156</a></p>
</li>
<li>
<p>Did cosmetic tweaks to existing contents of the User Guide: <a href="https://github.com/AY1920S1-CS2103-F10-2/main/pull/30">#30</a></p>
</li>
<li>
<p>Updated the Model class diagram: <a href="https://github.com/AY1920S1-CS2103-F10-2/main/pull/238">#238</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reported bugs and suggestions for other teams in the class (examples:  <a href="https://github.com/zhangxuan97/ped/issues/3">1</a>, <a href="https://github.com/zhangxuan97/ped/issues/13">2</a>, <a href="https://github.com/zhangxuan97/ped/issues/6">3</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated a third party library (Natty) to the project (<a href="https://github.com/AY1920S1-CS2103-F10-2/main/pull/92/commits/4158271b466907502b8387f1d5b5a07dcd5c12cc">#92</a>)</p>
</li>
<li>
<p>Integrated a third party library (JFreeChart) to the project (<a href="https://github.com/AY1920S1-CS2103-F10-2/main/pull/124/files">#124</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>As we morphed the product, we kept the user guide up to date with the features we implemented. Below is an excerpt of my notable contributions.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="waste-list-management"><a class="link" href="#waste-list-management">Waste List Management</a></h3>
<div class="sect3">
<h4 id="moving-an-item-into-waste-list"><a class="link" href="#moving-an-item-into-waste-list">Moving an item into waste list</a></h4>
<div class="paragraph">
<p>When you delete an item from your grocery list using <code>delete</code>, the item will automatically be
moved into the waste list if it has not been fully used (the amount of food remaining &gt; 0).</p>
</div>
</div>
<div class="sect3">
<h4 id="viewing-the-waste-list-code-wlist-list-code"><a class="link" href="#viewing-the-waste-list-code-wlist-list-code">Viewing the waste list: <code>wlist list</code></a></h4>
<div class="paragraph">
<p>Shows a list of the food items which have been wasted<br>
Format: <code>wlist list [m/MONTH_OF_YEAR]</code><br></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>If a particular month is specified, the food waste of the particular month will be displayed.
Otherwise, the food waste of the current month is displayed.</p>
</li>
<li>
<p>The <code>MONTH_OF_YEAR</code> is the natural language month and year expression in English.
To avoid ambiguity, we recommend specifying the month and year in a relaxed date format,
e.g. <code>Aug 2019</code>. We also provide some flexibility by allowing you to specify relative date formats, e.g. <code>last month</code>.</p>
<div id="month-req" class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To view the exact specification on supported formats, we kindly refer you to <a href="http://natty.joestelmach.com/doc.jsp">Natty Library Documentation</a>.
Note that if you have inadvertently specified a year longer than 4 digits, e.g. <code>Oct 20198</code>, we will only take the first 4 digits, which in this case will be <code>2019</code>.
Alternatively, if you have keyed in <code>Feb Jan 2019</code>, the first month will be taken as the month, which will be <code>Feb 2019</code>.
</td>
</tr>
</table>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>wlist list</code><br>
This will list out the current month&#8217;s waste list.</p>
</li>
<li>
<p><code>wlist list m/sep 2019</code><br>
This will list out the waste list for the month of September 2019, if such a record exists in our
waste archive (i.e. you have opened our application in the month of September 2019).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="displaying-food-wastage-statistics-code-wlist-report-code"><a class="link" href="#displaying-food-wastage-statistics-code-wlist-report-code">Displaying food wastage statistics: <code>wlist report</code></a></h4>
<div class="paragraph">
<p>Shows a charted report detailing your food wastage statistics across a time frame.
Format: <code>wlist report [sm/START_MONTH] [em/END_MONTH]</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The report will display 3 charts: kg, litres and units of food wasted per month across the
time frame.</p>
</li>
<li>
<p>The dates can be specified in any format permissible by the Natty library. If you only wish to
see your waste report starting 5 months ago, you can consider the command <code>wlist report sm/5 months ago</code>.
To avoid ambiguity, you are advised to specify the dates in the relaxed date format (e.g. <code>Sep 2019</code>).</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 10%;">
<col style="width: 10%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Start Month</th>
<th class="tableblock halign-center valign-top">End Month</th>
<th class="tableblock halign-left valign-top">Start Month Used</th>
<th class="tableblock halign-left valign-top">End Month Used</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The start month follows that specified by the user, or the earliest record found in our waste archive,
whichever is later.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The end month follows that specified by the user, or the current month, whichever is earlier.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10007;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The start month follows that specified by the user, or the earliest record found in our waste archive,
whichever is later.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The end month will be one year from the specified start month or the current month, whichever is earlier.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10007;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10003;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The start month will be one year before the end month specified, or the earliest month found in our waste archive,
whichever is later.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The end month follows that specified by the user, or the current month, whichever is earlier.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10007;</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">&#10007;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The start month would be one year ago from the current month, or the earliest month found in your waste archive,
whichever is later.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The end month would be the current month.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>To illustrate an example, suppose we have a waste archive with waste data from the months of Oct 2018, Nov 2018, &#8230;&#8203;,
Oct 2019 (the current month). We specify Aug 2018 as a start month and Jun 2019 as an end month, as
shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/WasteReportTimeFrame.png" alt="WasteReportTimeFrame">
</div>
</div>
<div class="paragraph">
<p>iFridge will generate the report using all available data within the time period, which will be
Oct 2018 to Jun 2019, highlighted in the yellow box.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="paragraph">
<p>Suppose we have a waste archive with data from Oct 2018 to Oct 2019 (current month).</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>wlist report sm/Mar 2019</code><br>
Generates a waste report from Mar 2019 to the current month of Oct 2019.</p>
</li>
<li>
<p><code>wlist report sm/Mar 2019 em/Sep 2019</code><br>
Generates a waste report from Mar 2019 to Sep 2019</p>
</li>
<li>
<p><code>wlist report sm/Mar 2018</code><br>
Generates a waste report from Oct 2018 to Mar 2019 (one year from Mar 2018)</p>
</li>
<li>
<p><code>wlist report sm/5 months ago</code><br>
Generates a waste report from May 2019 to Oct 2019 (current month)</p>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="content">
<div class="paragraph">
<p><strong>Using the waste report</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>After a successful waste report command, there will be 3 charts displayed in different tabs, one for each of the following:</p>
<div class="ulist">
<ul>
<li>
<p>Weight of food wasted (in kg) across the time frame</p>
</li>
<li>
<p>Volume of food wasted (in litres) across the time frame</p>
</li>
<li>
<p>Quantity of food wasted (in units) across the time frame</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Our charts are interactive, you can get more details about your food wastage by interacting with our charts.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Zooming on the chart: If you want to zoom in on a specific region of the graph, you can use your mouse to click and drag on the
preferred window.</p>
</li>
<li>
<p>To retrieve more specific details on the food wastage for a particular month, you can choose to:</p>
<div class="ulist">
<ul>
<li>
<p>click on the particular point in the chart, which will bring up the grid guidelines, or</p>
</li>
<li>
<p>click on the month name in the horizontal axis, which will zoom in on the exact wastage details for that particular month.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Returning to the original window: You can easily return to the original window by clicking on the title of the chart.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Below is an example of a waste report with the chart on food wastage in kg:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/WasteReportWindow.png" alt="WasteReportWindow">
</div>
</div>
<div class="paragraph">
<p><em>By clicking on the data point which lies on "March 2019", we can see that our food wastage for Mar 2019 is around 0.45kg.</em></p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="obtain-feedback-based-on-current-food-wastage-code-wlist-feedback-code"><a class="link" href="#obtain-feedback-based-on-current-food-wastage-code-wlist-feedback-code">Obtain feedback based on current food wastage: <code>wlist feedback</code></a></h4>
<div class="paragraph">
<p>Format: <code>wlist feedback</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Shows the current month’s wastage statistics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>How many kg, litres, and units wasted so far</p>
</li>
<li>
<p>Predicted wastage for the month</p>
</li>
<li>
<p>Feedback on how user is managing food waste compared to the average food waste management across the past year</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Our prediction algorithm:<br>
We first interpolate your current month&#8217;s waste statistics to arrive at an estimate. Following which,
we take a weighted average of your waste statistics across the past couple of months to provide you with
a more reliable prediction.</p>
</div>
<div class="paragraph">
<p>As with any other application, our prediction algorithm will be more accurate with more frequent usage.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="waste-list"><a class="link" href="#waste-list">Waste List</a></h3>
<div class="sect3">
<h4 id="view-most-commonly-wasted-food-items"><a class="link" href="#view-most-commonly-wasted-food-items">View most commonly wasted food items</a></h4>
<div class="paragraph">
<p>Generates a word cloud based on user&#8217;s most commonly wasted food.</p>
</div>
</div>
<div class="sect3">
<h4 id="moving-all-expired-food-items-from-grocery-list-to-waste-list"><a class="link" href="#moving-all-expired-food-items-from-grocery-list-to-waste-list">Moving all expired food items from grocery list to waste list</a></h4>
<div class="paragraph">
<p>By default, every time the application is launched, iFridge helps you check which items
are expired and gives you an option to move them to your waste list.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>We also kept the Developer Guide updated so that potential developers and enthusiast users could better understand the design and implementation of our app. To illustrate my contributions to the Developers' Guide, I have once again only included the more notable excerpts.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/ModelClassDiagram.png" alt="ModelClassDiagram">
</div>
<div class="title">Figure 1. Structure of the Model Component (Higher definition picture <a href="https://www.draw.io/?lightbox=1&amp;highlight=0000ff&amp;edit=_blank&amp;layers=1&amp;nav=1&amp;title=ModelClassDiagram.drawio#R7V1bd6NGEv41ftlzRgf6Co9zy2zOZjY5mWQnkzckIZtEEhokz9j59dtINIKiubq7wZL94GMQbhBVX3XVV9XVN%2Fjt5uFDEuzuPsbLcH2DnOXDDX53g5DnUvE7PfF4OkEccjpxm0TL0yn3fOJT9E%2BYnXSys%2FfRMtyXLjzE8foQ7conF%2FF2Gy4OpXNBksTfy5et4nX5rrvgNqyc%2BLQI1tWzn6Pl4S77WtQ5n%2F93GN3eyTu7TvbJJpAXZyf2d8Ey%2Fl44hd%2Ff4LdJHB9Of20e3obr9N3J93L6vx9qPs0fLAm3hy7%2F8Pnjf359%2B%2BGfV58ePnz9PXhEX4mzeZWN8i1Y32dfOHvYw6N8A0l8v12G6SDODX7z%2FS46hJ92wSL99LsQuTh3d9isxZEr%2FlxF6%2FXbeB0n4ngbb8VFb%2FaHJP47f3koPyMvu0F47lFC09Gr30k%2BYJgcwofCqew7fgjjTXhIHsUlD1LBTv%2FxKPUoO%2F5%2Blp4vleuuIDmPZyeDTGNu86HPL1X8kb3XHu8YKd4xW4vbvpmLP24Px%2B99OrGKxfcuvn329T6WH7zaH9HxWlzg0t3D%2BUM5Sga%2B01DiUU%2Bjle8gThfuCkQtXvGhLM%2ByqDKJKoQcrKPbrThcCMGF4vybVGCRgNHr7INNtFymt1EqUFnFdCgBZ2UtcKtaQBRKgEzpAKnVAQ0i%2FxhshRlKaiX%2FFEBX0VuUvsDuMgi91UKFarbwwvlKk0AZLQkUo6pAXRWssSmJUs2Ws%2FlFl2xp4R17aI4Z0%2FOOadlyUk%2Fxij3VK%2FZMvWNmy3J%2BDvaH8MVyFkEktcAf2XJyQ5bzKPJfw12cHEYynDT0lsQ0qHlZnIyObTe9drsZbpevU9ddHC2jYBNvl%2BVXGy6Fi55dLsR3F9%2FG22D9%2Fnz2jRjhhyh9rqOkqqIQ7zN5%2FCP7%2BHjwJT2YcSqP3z0UP333mA8VJAf5cIt1sN9HC3k6u%2BPxCR%2Biw3H4GaLZ4Rc5nvj7PHh6IMfurx%2Fia2YRk9sI%2F318nyzCdpCJb3EbHtrdmFQAjcpX0C6qUC55LgnXwSH6Vg61VBqX3eGXODpCvtbVB0p7%2Bt7ZfxVDIzAQcsoj%2BT4Y6PRiKgMdAZB%2F7eGY8E3auJ%2Bi%2FVgWzoprCE0cdXnFxPk2LZw0p9rF%2BSGJF2HyeOkCJc7UBKpiSXQI9LdwsxMW8OIhSjFvlajrUJsirSdlnibST3fxbhdtby9dpMxrB2nOvdkRKW73LC1E5D7jONDkvCNcZj1UITlzVbgxFpK7HXiPPv57uJ7H3%2Fu47r098OEOeDuQgAN%2B%2FDLiQIbwpUhjlscWX%2BQzNgQatdrT6stnzuQz8%2BVdxyupOmMDfXkC3EECg4IaX16oVPBYuGyXXrCvf2CCwX1g%2BgVcTwGxQkjz9dALAteLP05PrDUQcftF55kN1Bqad8S3EawOsBnDcSpdkIkAEE7oxCMDAcjUwNANQN4TgHXPZRZQqtD%2BBVBmAOVMClAcMulD2Sni2wEUIVR5n77PZRRQ8rtfPaAY7wyp9OCXMInEu08zTE%2BFmTspmBEKYqTBMIMToCGYUZ8r72MWNqb4jt%2B30df7cGSiOXSXNOTGo3GQIGco07wi5YEVmm6M8kAqykOfVEfnm%2B3IFQPHkPmjy7UfyTJfx4u%2F9b9aOA%2BK6S2bnkDuMecyFBnVtoSq2kWUDI5uF1G%2Bx1ZyRCJrKpMcIAO4RwdOcsCGcQwGMpzpRPUlPTos1vgJFTsmi2LcPhURbNNkmarTKQv2x0O42V%2B0ZN2yO6ucjIhvU7IqTvAkgP0u2A6XbKWW74c4Xqqr7fJzpzteehEedUBMM3YRHjJVoeJ2xfLFyBZB1sSrJk6RIqVnTLZYxai8yHYQbhmZ0YlJ11TtyvVJlztTk60pUgddnWwJzM6OLtsO1SytdRZ5AK92cO2VUnRjGyZXStGZLsjco4mwBRhposRhMJKjxBJbgFXL5sYGAaNkXBgosjkjQENNkHXAiuvcjIgNQqCLlnMnvbk0kC%2Bl1DI6dJTiXewUwSgqIsGZ%2BX4rF50e6UuUSq6zHRHTyqhiUK3NyECAMAdijXbMqWqDiFm6efxibzukJPM7ZMis0s1YRTePbfuQNxXj18sJ0FsegjtbPTQpq0d9HzoGMDfW2W2uDEUhEAzbPWKKGTgWenwUV95d8qJpuAieq9JrVldNE1OVHkeBfjoI5OyFHbkmoXqKzkCWhWqqK8z1cbOUV6y3QrxWGTyiCs9epDtEunkpZr44qGqP7crWVFxxfbKF%2BVBVrtuubE1VslyfbGHGjPGxZVtfy%2FI02f432NT3j7oABgBWpPhu1QKrgjNzvlO%2FhVV2CACPFOnPV87MwbgPDdC%2F5U8jDXCD%2B1bi6qMBZATaXmk7LRqAEyE1UtL13Ir15QE4aFBkmwWg%2FTBy1vBm%2ByNsm1TBo041rubPseH4bgEbbis0mtNc%2FVS7P8xK0D8bjwr0czTm%2F5Qd%2B09CT%2Bd%2BXNMCD1iR6zqwDUVX5HhwoI7I6bsWC9xHLtk0uhRLrja5GFRqZHMmosdQLYZmiCuUkwsGMqTGlFhQY1OFhe8fdpGw3UFDQ9YLcKgR8wBh5TlVl9qzmVNjyJBEX2%2BEgC47QQo8PVV4xJFNWZqilrM1oek6nEsWKOYgBqCKDJBjVaKm6OTi0qpLFiklHFhcrqAa7fasY6Z4ZLCU6vKEyRGcPhXcolVGipnijWWV0aUDlLvA5o4PTx3NyrXXHzsyRJMkI5F1R9dWa4S68iSyFHMi8eVF1RpxFZ%2Bhw%2B796%2BryZRXeYeR0GTcV47%2BIVlFBa1e0poL96xMt5aB17dhZbq4K%2Fsd2W8ZdGDLcx5BMykRcB0LpTPIOT81PErBOsMJzm%2FYcTFEa12eDKqIkY9sgU8zG9cmW%2BpDr4GPXP3JTXMf1SZezqcl2iqQHeWJl1QWRHlI%2F2kkPPi3PBdcoem%2B3BQ5kuYchn2Lp4WTWXVvqP8C6Un94WtQfbBrA%2BVAUwIHgKm3DKPBU3NC4KCiWMp0RoR8FKd3%2B1%2F1mV1P6d2Tjm8qvhmu9rF%2BfiDIzB6ZUvaEVf9SDQ%2FmGNu5R3AlbKPvzJtjQ6eLxIkuaJoIXyihUPTIQLwyUFppCS%2BU%2BWWWTWaxMj8C0ObcUvCnUy50aCWRdOz9NjUoFvL0%2FlEelYHmqB306XRv0gC7wcgW7WSz26zKl2HCnz3Y6ciuDIgydAgzHDnQaEPa0FR9sWmEK9Sue3dANGRVDWe4C5fcLVUyrsKWZZKAKF1uonfaYymcfSbrZa6HGujYTmtjUojEwUgxlucDHR1OCjy1HbLQZoF3Xp8XrMreioP7goKYyFIyPTOu6qT5L19f8AVM464%2Bc2PJf2i1pS0nTOg5tPOm%2BtFvSJV0Gm32MLtsOKenFffLt%2BBIyj6PH%2Bmn3prp%2BeoDroPTvebOHUqR6nJz7Kee47bnbpKMHIl%2F%2FRDwQF2xqR%2FlA%2FwMxvzQQM7QFLNxxEntO83PBrWlJy%2FWw8QizQBT5HdLi0wHpDBVg2rzdpObGOJOCDuFAs5y81qx3Qhos32LS39INHriBFmsGAwZfkXoWwOA6HTinCaHBY6SIhyd25xHDPZupbFq8K5Fki1RuuONK99pu2MTKDBph5wNpUGpDfDbC1JSv1H8WaCwzXN0dSF7KFToteDMPrYlVXlGwbIJA5657%2FSGAlmsIWmCiwxk5VdtuDk6MtBmKHkjtU2oFiq0tOBc5Ns6hOPbFz2pVjc4FzMR0IXCLnHWPXTimEatDm1GLyR59hShUmmrs7ilAZix2z3tgNdleje0KMjFVzOySzRnV1KnAA9SmdClLL1lBkGCYBNL4luuX6mrepfm34LaAsjm87uZaNmn2OORAbW7T%2FPOfX%2F1bgn%2F7yz18fj1%2Fjz5%2B%2B3v3ytRy7bLILTYeWa1WaLHoAOeK2BTCrZekByZ0Us1UyE6buvuOKOXYwVsdtVS0xSftL8Sa%2Bre83q2Q7B1e%2Fqb0Rltd4CagdSxLGMvjxbL8ta5woDu1U9O9QH9WVvm6TSVln%2BVqw6eZOlqzasRCakcpWq2Vvh3KS7qspXJoOQR3nGYyzPSKqjKb5s4clFvJPmRaPY%2FdbhNHC9rT7Vp9z89%2FStrLfDpz%2FGE2LW0HKLdxkbESTVv4O%2BcfbNXKvSSwdVk5AvXEYkcWpWhVzRCmSj86M58Uk2PimHqN9q9gq3xa8tlS5p%2BzNmNVl0sYaqx0pgf4qNYP5n2HZ%2Bc8h89gjxC43sFUSqCFh2QwQYdargdvhSG9vKUSwaYaXvwvTPaRMKLLP778mW4jvB8n0F4GobdSxmhs4YXzlR67zJkLKJPc5NrYSVgpWB3dLhr3WtDsnZYsc684vIOMe%2FmlQ%2FJNWqLvzrujjGm7MbC2FC7Q7L66rDxQJSWsy2yDzCzCtOW5%2Bpl5SCIQzekmpaqoapI07f9%2BeBctDsJ0B6kWXJXNVnjTdm22MqWkQ6xylKhwItikgllXj6I01lml4pOny%2F9STp8kikRJfptfw2D583b9eBVOAC0HZ1jpAvhVdYINTvSpU7%2F1gXKFkuZXuwz2d8UAsLj2qW7S7dJ5qvh%2FndbNDpup1WlJVJ2qGxA92lwNIhbXGVpBDIsTXcfcWlf1i0RT1%2BWxVXJUPhN2%2B6OySVvveB6oLGbcrp71a2czqs3EvLSywpUEv27DaZq0km7PxK1p3tJM6jgequMeKuu4ZzftKOv6noOOO7Qcjc98vwvvmpVre6yg5Clp67L%2Bmv6U%2FFIH7fefh%2FJ7QPnJUOUHleDYcs7dVaWjXoixLsSYj7wyFh2ndb7RN3U08SDTpsw4d2cePv8A2oHQmcsKP0MTv5TPisPwMsywU7qL3EtBN9kGch6yXLT2ocHWym2Lnggk5zQvs1CbDFM933vRMj%2Fqo2U%2BxstwfclcDGGwhtUleYqxtO2aIltujo9RJdsm6ncNpGNGCX0VSe8GHI9GxlB%2FBnZfpYjNKDrX5YAxu1p%2BzvnM9UlNMRHmZOa55w87Ll%2FVZjxb18U8M%2BP583wfJt%2BC%2BTr8qcfCnOdoRRnDnWyoVU67X5P6DlVGWq1obilz1717mfeQTmAaXWlX0aerAdGj1Q4BjxEPLf6GA7kdu5vqMoyoX3ZmmCavvEWoXqMw92iaqe6oyTNDNRETVzbullvpDk2fMLktodQ1Wil4M61tyNA0%2FLuYDX9JwtVF53Yx0AOk6PnmOjZLBZCptSNjuVWyVOAq9MkFHa%2BV5YJUoU%2BwbaQ%2BfVLlBF6q9IcIlwPHAlnc%2BUwt22dGeT%2BhFa5uyhuNVQsqRTR9ZpuLsNCjp99gliSk9Kncl2AIs10YxQWrm7BT%2BpSYYbYJLCNt6VX3LJht1GEBzzQYyZ5Lpodkzwyjt8GNGwu%2BrscATU5kM6HeBWIOgutw8qd8cogjDpM49SrOl4u5%2B%2B6UxsDv%2Fw8%3D">here</a>)</div>
</div>
<div class="paragraph">
<p>Notes regarding the class diagram:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>XYZ refers to the different lists used in our model - waste list, grocery list, template list and shopping list.</p>
</li>
<li>
<p>The curved arrows emanating from the <code>ModelManager</code> class all refer to filtered lists.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="{repoURL}/src/main/java/seedu/ifridge/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores the data for the different lists: WasteList, GroceryList, TemplateList, ShoppingList.</p>
</li>
<li>
<p>exposes unmodifiable <code>ObservableList</code> for all the different lists so that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To enhance the OOP-design of our architecture, we abstracted out a separate food class to cater to the different requirements of separate lists.
For instance, shopping lists require its food items to have additional attributes which indicates the <code>urgent</code> and <code>bought</code> status.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="waste-report-feature"><a class="link" href="#waste-report-feature">Waste Report Feature</a></h3>
<div class="sect3">
<h4 id="implementation"><a class="link" href="#implementation">Implementation</a></h4>
<div class="paragraph">
<p>The <code>wlist report</code> feature allows users to generate a graphical report of their food wastage performance.
We illustrate below our method of implementation.</p>
</div>
<div class="paragraph">
<p><strong>Support for flexibility of months</strong></p>
</div>
<div class="paragraph">
<p>By allowing the user to specify a start and an end month, thorough checks are implemented in the
<code>WasteReportCommand#execute</code> method to identify the best suited time frame:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>After the <code>WasteReportCommandParser#parse</code> successfully provides the user-specified start and end months in <code>WasteMonth</code> objects, the following checks are performed:</p>
<div class="ulist">
<ul>
<li>
<p>starting month cannot be later than ending month</p>
</li>
<li>
<p>starting month cannot be after current month (latest record in waste archive)</p>
</li>
<li>
<p>ending month cannot be before earliest waste record</p>
</li>
</ul>
</div>
</li>
<li>
<p>Upon passing the checks, the we proceed to refine the actual start and end months as follows:</p>
<div class="ulist">
<ul>
<li>
<p>Starting month will be the later of the specified month and the earliest record found in the waste archive. This is achieved with the use of the <code>WasteMonth#earlier</code> method.</p>
</li>
<li>
<p>Ending month will be the earlier of the specified end month and the current month (latest record in waste archive). This is achieved with the user of the <code>WasteMonth#later</code> method.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This completes the first part on checking for a valid range of months.</p>
</div>
<div class="paragraph">
<p><strong>Generating the report</strong></p>
</div>
<div class="paragraph">
<p>Under <code>WasteReportCommand#execute</code>, when iterating through the months from the starting month to
the ending month:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>We first retrieve the relevant <code>WasteList</code> for the month using <code>Model#getWasteListByMonth(WasteMonth)</code></p>
</li>
<li>
<p>Thereafter, we obtain a <code>WasteStatistic</code> object, which contains the weight, volume and quantity of food wasted
for the given month by calling <code>WasteList#getWasteStatistic</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Note that the <code>WasteList#getWasteStatistic</code> method is a wrapper method to calculate the waste statistics. The actual computation of
the statistics for the given waste list is done in the <code>WasteStatistic#getWasteStatistic</code> static method, which takes in a <code>UniqueWasteList</code> and calculates the statistics by iterating through the list.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Collect the data by storing it in a <code>HashMap</code> indexed by the month (a <code>WasteMonth</code> object) with the corresponding
<code>WasteStatistic</code> as the value.</p>
</li>
<li>
<p>The data collected in the <code>HashMap</code> is used to initiate a <code>WasteReport</code> object, which will then be passed back to the model, along with the respective <code>CommandResult</code> object.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You may find the following activity and sequence diagrams helpful.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/WasteReportImplementationActivityDiagram.png" alt="WasteReportImplementationActivityDiagram">
</div>
<div class="title">Figure 2. The activity diagram showing how the waste report feature is implemented</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/WasteReportSequenceDiagram.png" alt="WasteReportSequenceDiagram">
</div>
<div class="title">Figure 3. The sequence diagram to show how the waste report feature works:</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/WasteReportSequenceDiagramRef.png" alt="WasteReportSequenceDiagramRef">
</div>
<div class="title">Figure 4. The sequence diagram for the reference frame to show the process of generating a waste report.</div>
</div>
<div class="paragraph">
<p>In summary, the activity diagram below illustrates what happens when a command to generate a waste report is entered.</p>
</div>
<div class="imageblock" style="text-align: centre">
<div class="content">
<img src="../images/WasteReportActivityDiagram.png" alt="WasteReportActivityDiagram" width="400">
</div>
<div class="title">Figure 5. The activity diagram showing what happens when the user enters a command to generate a waste report.</div>
</div>
<div class="paragraph">
<p>Refer to our
<a href="https://ay1920s1-cs2103-f10-2.github.io/main/UserGuide.html#displaying-food-wastage-statistics-code-wlist-report-code">user guide</a> to see what constitutes a valid time frame.</p>
</div>
<div class="paragraph">
<p>To complete the big picture, we have included a class diagram to illustrate the key components pertaining to
implementing statistical waste list features.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../images/WasteClassDiagram.png" alt="WasteClassDiagram">
</div>
<div class="title">Figure 6. The class diagram which captures some of the architectural elements for key waste-related classes.</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Our waste archive is stored as a static member of the <code>WasteList</code> class, in the form of a <code>TreeMap</code>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="possible-alternative-implementations"><a class="link" href="#possible-alternative-implementations">Possible Alternative Implementations</a></h4>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (Chosen implementation)</strong></p>
<div class="paragraph">
<p>Go through the waste archive to retrieve the grocery items in the waste list for the past months and calculate the waste
statistic for each month.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros: This is a fail-proof way of ensuring the waste statistics are accurately computed every time.</p>
</li>
<li>
<p>Cons: The runtime is linear in terms of the total number of grocery items found across all waste lists in the waste archive.
With a growing waste archive, it will take longer to generate the report.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong></p>
<div class="paragraph">
<p>Since the waste statistics for the previous months are unlikely to change, they can be stored externally and loaded
upon launch of the application, instead of calculating every time the waste report command is executed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pros: Will improve the runtime of the application.</p>
</li>
<li>
<p>Cons: Will take up more storage space. Additionally, this does not guard against the event that the user modifies the
external storage files which may cause the waste archive and the statistics to be synced incorrectly.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="waste-list-manual-testing"><a class="link" href="#waste-list-manual-testing">Waste List Manual Testing</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Moving an item into the waste list</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: List all grocery items in the grocery list using the <code>glist list</code> command. The item must exist in the grocery list, and has not been fully consumed (i.e. amount = 0).</p>
</li>
<li>
<p>Test case: <code>glist delete 1</code><br>
Expected: First grocery item is deleted from the list. Details of the removed grocery item shown in the status message.
If item has been fully consumed, it will be permanently removed from iFridge.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Listing out the waste list for a particular month</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Waste list must exist in waste archive.</p>
</li>
<li>
<p>Test case: <code>wlist list</code><br>
Expected: The tab for the waste list is shown and is updated to reflect all waste items for the current month.</p>
</li>
<li>
<p>Test case: <code>wlist list m/sep 2019</code><br>
Expected: The tab for the waste list is shown and is updated to reflect all waste items for the month of September 2019, if such a waste list exists in
the waste archive.</p>
</li>
<li>
<p>Test case: <code>wlist list m/last month</code><br>
Expected: The tab for the waste list is shown and is updated to reflect all waste items for the last month, if such a waste list exists in
the waste archive.</p>
</li>
<li>
<p>Test case: <code>wlist list m/invalid</code><br>
Expected: Error message for invalid command displayed.</p>
</li>
<li>
<p>Other invalid test cases: <code>wlist list m/Decemer 2019</code>. More details on valid or invalid date formats can be found in our user guide.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Obtaining predicted food wastage for the current month</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>wlist feedback</code><br>
Expected: Message box displays the current and predicted food wastage.</p>
</li>
<li>
<p>You are free to modify the json file <code>wastearchive.json</code> to see how our feedback feature performs differently.
The estimated food wastage is predicted by taking the weighted average of waste statistics using (at most) the four most recent waste lists.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Generating a waste report</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Test case: <code>wlist report</code><br>
Expected: iFridge will display a window with 3 charts detailing food wastage statistics. It will attempt to generate a waste report
from one year ago till the current month (e.g. if the current month is Nov 2019, it will attempt to generate a report from Nov 2018 to Nov 2019)
with sufficient data. If there is insufficient data, it will only display the records starting from the earliest month found in iFridge&#8217;s waste archive.</p>
</li>
<li>
<p>Test case: <code>wlist report sm/5 months ago</code><br>
Expected: iFridge will attempt to generate a report using data from 5 months ago to the current month.<br>
We have a detailed section in our <a href="https://ay1920s1-cs2103-f10-2.github.io/main/UserGuide.html#displaying-food-wastage-statistics-code-wlist-report-code">User Guide</a>
on the specifications of the starting and ending months along with their expected behaviour</p>
</li>
<li>
<p>Test case: <code>wlist report sm/next month</code><br>
Expected: Error message displayed suggesting that the start month cannot be later than the current month.</p>
</li>
<li>
<p>Test case: <code>wlist report em/Sep 1990</code><br>
Expected: Assuming we have no data for the month of Sep 1990, an error message will be displayed suggesting that there is no valid data in the time frame.
It also indicates to the user what the earliest record in the waste archive is.</p>
</li>
<li>
<p>Other invalid test cases: <code>wlist report sm/Oct 2019 em/Jul 2019</code>, <code>wlist report sm/in 12 weeks</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 04:44:33 UTC</div></div></div></body></html>